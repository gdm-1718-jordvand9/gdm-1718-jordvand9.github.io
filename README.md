# Gradient
Gradient is a mobile web-application build with firebase, handlebars and vanilla javascript.

Gradient is a place where student and teachers can upload projects that they want to show to eachother, or share with the world.

## Dependencies ##
Gradient is built using vanilla Javascript, Firebase and Handlebars.
Automation is managed using gulp and deploy tools are managed using npm.
Gradient is mostly written in ES6, for wider browser support we transpile the code using BabelJs. 


## Firebase ##
### Authentication ###
For authentication i'm using firebase auth. Signing up through facebook, twitter or any other 3rd party is not possible yet.
On Signup, some basic user information is also saved to the realtime-database, this includes name, email, date of creation and follower information.
In the app itself, the login state is displayed in the header. All actions that require the user to be logged in will be redirect to the login page.

### Database ###
Every user-generated item is stored with a `visible` value either set to true or false. This way users can delete their content that they created themselves. Currently only comments can be removed. For removing projects or other content an admin must be contacted who has access to the controlpanel. 

#### Projects ####
Projects are stored under 2 seperate locations. These locations being `projects/projectId` and `user-projects/userId/projectId`. This makes the read operations much lighter when users are trying to fetch projects of people which they are following.
Images that belong to a project are stored in firebase storage. Links to images that belong to a project are stored within the project under `projects/projectId/images/imageId` and `user-projects/userId/projectId/images/imageId`.

#### Comments ####
Currently only projects support comments, commenting on a blog article is not possible yet.
Comments are stored under a different location than the project itself, `projects-comments/projectId/commentId` for a lightweight reading performance. This comment is holding basic user-information such as name, userId, and date of creation.
Comments created by a user can only be removed by that person himself. 

#### Likes ####
Likes are similar to comments, also stored under a different node. The only difference is that a like counter is being updated under both project-locations. For updating a like counter I make use of a transaction, to keep a strong data consistency in both locations. This also prevents the like counter messing up when it's being pressed by multiple people at the same time.

#### Departments ####
Students within the same school belong to a following a department, some departments can have specializations. I wrapped up these departments and each of their specializations in a page. This way people have a nice overview of what a school has to offer. Links to the specializations, blog and social media are available as well. 

#### Specializations ####
Specilizations belong to a department and store very few information. 

#### Blog ####
Blogs belong, just like specializations, to a department. A blog has its own page, where all the belonging articles are displayed.

#### Article ####
An article belongs to a blog, this stores very few information as well. Articles support tags as well, this makes it flexible if I ever want to implement a search system into the application. 

#### Account ####
An account page stores all the information about a user, by checking the followers structure we decide if the user is already follwing the account or not, then update the follow button.
If follow is clicked, the userid is stored under `users/userId/following/profileId` and `users/profileId/followers/userId`. Next to that a counter is updated, for this counter we make use of a transaction, once again to keep our database consistent.

#### Feed ####
Here you can see all the projects of the profiles a user is following. This happens with a 'JOIN' `users/userId/following/projectIds` and `users-projects/profileId`.

#### Security rules ####
This project is also using basic security rules such as `read`, `write` and `indexOn`. Data validation is not implemented yet.

### Handlebars ###
All pages are generated by handlebars, pages that have dynamic content are loaded with template that is loaded in using AJAX.